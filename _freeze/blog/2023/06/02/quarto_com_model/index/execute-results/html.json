{
  "hash": "073aa6a6c8561ed664e69dd4a63e1091",
  "result": {
    "markdown": "---\ntitle: \"Quarto Communication for Economic Models\"\ndate: 2023-06-02\nauthor: Kazuharu Yanagimoto\ncategories: [Julia, Observable JS, Quarto]\nimage: https://source.unsplash.com/aNVx2FpKAF8\ntwitter-card:\n  image: https://source.unsplash.com/aNVx2FpKAF8\nexecute: \n  warning: false\n  message: false\n---\n\nFor $t = 1, \\dots, T$, households solve\n$$\nV(t, e, x) = \\max_{c, x'} \\frac{c^{1 - \\sigma}}{1 - \\sigma} + \\beta \\mathbb{E}V(t + 1, e', x')\n$$\n$$\n\\begin{aligned}\nc + x' &\\le (1 + r)x + ew \\\\\n\\text{Pr}(e' | e) &= \\Gamma(e) \\\\\nc, x' &\\ge 0\n\\end{aligned}\n$$\n\n\n\n```{julia}\nusing Parameters\nusing QuantEcon\nusing Plots\nusing LaTeXStrings\n```\n\n```{julia}\n@with_kw struct Model\n\t\n\t# Grid for x\n\tnₓ::Int = 100\n\tx̲::Float64 = 0.1\n\tx̄::Float64 = 4.0\n\tx_grid::Vector{Float64} = range(start = x̲, stop = x̄, length = nₓ)\n\t\n\t# Grid for e: parameters for Tauchen\n\tnₑ::Int = 10\n\tσ_ε::Float64 = 0.02058\n\tλ_ε::Float64 = 0.99\n\tm::Float64 = 1.5\n\tmc::MarkovChain = tauchen(nₑ, λ_ε, σ_ε, 0.0, m)\n\te_grid::Vector{Float64} = exp.(mc.state_values)\n\tP::Matrix{Float64} = mc.p\n\n\t# Utility function\n\tσ::Float64 = 2.0\n\tβ::Float64 = 0.97\n\tT::Int = 10\n\n\t# Prices\n\tr::Float64 = 0.07\n\tw::Float64 = 5.0\n\t\nend\n\nm = Model()\n```\n\n```{julia}\nu(c, m::Model) = isone(m.σ) ? log(c) : c^(1 - m.σ) / (1 - m.σ)\n```\n\n```{julia}\nfunction solve(m::Model)\n\n\t@unpack T, nₓ, nₑ, r, w, β, P, x_grid, e_grid = m\n\n\tV = zeros(nₓ, nₑ, T)\n\n\tfor t = T:-1:1, iₓ= 1:nₓ, iₑ = 1:nₑ\n\t\t\n\t\tutility = -Inf\n\t\tfor iₓ′ = 1:nₓ\n\t\t\t\n\t\t\texpected = (t == T) ? 0.0 : \n\t\t\t\tsum(P[iₑ, iₑ′] * V[iₓ′, iₑ′, t+1] for iₑ′ = 1:nₑ)\n\t\t\tc = (1 + r) * x_grid[iₓ] + e_grid[iₑ] * w - x_grid[iₓ′]\n\t\t\t\n\t\t\tif c > 0\n\t\t\t\tutility = max(u(c, m) + β * expected, utility)\n\t\t\tend\n\t\n\t\tend\n\t\n\t\tV[iₓ, iₑ, t] = utility\n\tend\n\n\treturn V\nend\n```\n\n```{julia}\nV = solve(m);\n```\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}